<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Hobbit - Narrative Atlas Dashboard</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://unpkg.com/three@0.132.2/build/three.min.js"></script>
    <script src="https://unpkg.com/three-spritetext@1.6.5/dist/three-spritetext.min.js"></script>
    <script src="https://unpkg.com/three-forcegraph"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            margin: 0;
            padding: 0;
            background-color: #f5f7fa;
        }
        
        header {
            background-color: #2c3e50;
            color: white;
            padding: 1.5rem 2rem;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }
        
        h1, h2, h3 {
            margin: 0;
        }
        
        .dashboard-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }
        
        .dashboard-title {
            font-size: 1.8rem;
            font-weight: bold;
            color: #2c3e50;
        }
        
        .dashboard-controls {
            display: flex;
            gap: 1rem;
        }
        
        .dashboard-btn {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.2s;
        }
        
        .dashboard-btn:hover {
            background-color: #2980b9;
        }
        
        .dashboard-nav {
            background-color: #f8f9fa;
            padding: 1rem 0;
            border-bottom: 1px solid #ddd;
            margin-bottom: 2rem;
        }
        
        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            gap: 1rem;
            overflow-x: auto;
            padding: 0 2rem;
        }
        
        .nav-button {
            padding: 0.5rem 1rem;
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 4px;
            cursor: pointer;
            white-space: nowrap;
            font-weight: 500;
            transition: all 0.2s;
        }
        
        .nav-button:hover, .nav-button.active {
            background-color: #3498db;
            color: white;
            border-color: #3498db;
        }
        
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            grid-auto-rows: minmax(400px, auto);
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .dashboard-card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .dashboard-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .card-header {
            background-color: #f8f9fa;
            padding: 1rem;
            border-bottom: 1px solid #ddd;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .card-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: #2c3e50;
            margin: 0;
        }
        
        .card-content {
            padding: 1rem;
            height: calc(100% - 60px);
            overflow: hidden;
        }
        
        .card-iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
        
        /* Grid layouts */
        .col-span-12 {
            grid-column: span 12;
        }
        
        .col-span-8 {
            grid-column: span 8;
        }
        
        .col-span-6 {
            grid-column: span 6;
        }
        
        .col-span-4 {
            grid-column: span 4;
        }
        
        .row-span-2 {
            grid-row: span 2;
        }
        
        /* Section styles */
        .section {
            display: none;
        }
        
        .section.active {
            display: block;
        }
        
        /* Dashboard summary card */
        .summary-card {
            padding: 1.5rem;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 1.5rem;
        }
        
        .summary-card h2 {
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 0.5rem;
            margin-bottom: 1rem;
        }
        
        .summary-stats {
            display: flex;
            flex-wrap: wrap;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .stat-box {
            flex: 1;
            min-width: 150px;
            background-color: #f8f9fa;
            padding: 1rem;
            border-radius: 4px;
            text-align: center;
            border-left: 4px solid #3498db;
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: #2c3e50;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #7f8c8d;
            margin-top: 0.5rem;
        }
        
        footer {
            text-align: center;
            padding: 2rem;
            background-color: #2c3e50;
            color: #ecf0f1;
        }
        
        footer a {
            color: #3498db;
            text-decoration: none;
        }
        
        /* Character tab specific styles */
        .character-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
        }
        
        .character-card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            overflow: hidden;
            transition: transform 0.2s;
        }
        
        .character-card:hover {
            transform: translateY(-5px);
        }
        
        .character-header {
            background-color: #3498db;
            color: white;
            padding: 1rem;
            text-align: center;
        }
        
        .character-name {
            font-size: 1.2rem;
            font-weight: bold;
            margin: 0;
        }
        
        .character-mentions {
            font-size: 0.9rem;
            margin-top: 0.5rem;
            opacity: 0.9;
        }
        
        .character-content {
            padding: 1rem;
        }
        
        .character-button {
            display: block;
            background-color: #3498db;
            color: white;
            border: none;
            width: 100%;
            padding: 0.8rem;
            border-radius: 4px;
            cursor: pointer;
            text-align: center;
            text-decoration: none;
            margin-top: 1rem;
            transition: background-color 0.2s;
        }
        
        .character-button:hover {
            background-color: #2980b9;
        }
    </style>
</head>
<body>
    <header>
        <h1>The Hobbit - Narrative Atlas Dashboard</h1>
        <p>Spatial-Temporal Analysis of J.R.R. Tolkien's Classic Tale</p>
    </header>
    
    <div class="dashboard-nav">
        <div class="nav-container">
            <button class="nav-button active" data-section="overview">Overview</button>
            <button class="nav-button" data-section="visualization">3D Visualization</button>
            <button class="nav-button" data-section="timeline">Timeline</button>
            <button class="nav-button" data-section="characters">Characters</button>
            <button class="nav-button" data-section="summary">Summary</button>
        </div>
    </div>
    
    <div class="dashboard-container">
        <!-- Overview Section -->
        <section id="overview" class="section active">
            <div class="summary-card">
                <h2>Narrative Analysis Overview</h2>
                <p>This dashboard presents a comprehensive spatial-temporal analysis of J.R.R. Tolkien's "The Hobbit," using our Narrative Atlas framework. Our system has processed and analyzed the entire text to extract characters, events, locations, and narrative structure. The visualizations provide different perspectives on how the story unfolds through space and time.</p>
                
                <div class="summary-stats">
                    <div class="stat-box">
                        <div class="stat-value">939</div>
                        <div class="stat-label">Characters</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value">104</div>
                        <div class="stat-label">Events</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value">36</div>
                        <div class="stat-label">Locations</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value">515K</div>
                        <div class="stat-label">Text Characters</div>
                    </div>
                </div>
                
                <p>Use the navigation tabs above to explore different aspects of the analysis:</p>
                <ul>
                    <li><strong>3D Visualization</strong> - A spatial-temporal representation of the narrative structure, showing relationships between characters, events, and locations.</li>
                    <li><strong>Timeline</strong> - A chronological view of the narrative, revealing how events unfold through time.</li>
                    <li><strong>Characters</strong> - Detailed analysis of individual character arcs and relationships.</li>
                    <li><strong>Summary</strong> - A textual summary of the narrative based on our analysis.</li>
                </ul>
            </div>
            
            <div class="dashboard-grid">
                <div class="dashboard-card col-span-12">
                    <div class="card-header">
                        <div class="card-title">Narrative Atlas 3D Visualization</div>
                    </div>
                    <div class="card-content">
                        <iframe class="card-iframe" src="the_hobbit_visualization.html"></iframe>
                    </div>
                </div>
                
                <div class="dashboard-card col-span-8">
                    <div class="card-header">
                        <div class="card-title">Narrative Timeline</div>
                    </div>
                    <div class="card-content">
                        <iframe class="card-iframe" src="the_hobbit_timeline.html"></iframe>
                    </div>
                </div>
                
                <div class="dashboard-card col-span-4">
                    <div class="card-header">
                        <div class="card-title">Top Characters</div>
                    </div>
                    <div class="card-content">
                        <div style="padding: 1rem;">
                            <ol>
                                <li><strong>Bilbo</strong> (556 mentions)</li>
                                <li><strong>Thorin</strong> (252 mentions)</li>
                                <li><strong>Gandalf</strong> (187 mentions)</li>
                                <li><strong>Mountain</strong> (175 mentions)</li>
                                <li><strong>Baggins</strong> (103 mentions)</li>
                                <li><strong>Gollum</strong> (96 mentions)</li>
                                <li><strong>Forest</strong> (95 mentions)</li>
                                <li><strong>Smaug</strong> (82 mentions)</li>
                                <li><strong>Bard</strong> (57 mentions)</li>
                                <li><strong>Dwarves</strong> (41 mentions)</li>
                            </ol>
                            <a href="#characters" class="character-button" onclick="showSection('characters')">View Character Details</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- 3D Visualization Section -->
        <section id="visualization" class="section">
            <div class="dashboard-card col-span-12" style="height: 800px;">
                <div class="card-header">
                    <div class="card-title">Spatial-Temporal Narrative Visualization</div>
                </div>
                <div class="card-content">
                    <iframe class="card-iframe" src="the_hobbit_visualization.html"></iframe>
                </div>
            </div>
        </section>
        
        <!-- Timeline Section -->
        <section id="timeline" class="section">
            <div class="dashboard-card col-span-12" style="height: 800px;">
                <div class="card-header">
                    <div class="card-title">Narrative Timeline</div>
                </div>
                <div class="card-content">
                    <iframe class="card-iframe" src="the_hobbit_timeline.html"></iframe>
                </div>
            </div>
        </section>
        
        <!-- Characters Section -->
        <section id="characters" class="section">
            <div class="summary-card">
                <h2>Major Characters</h2>
                <p>The following characters were identified as the most significant in the narrative. Click on a character card to view their individual arc throughout the story.</p>
            </div>
            
            <div class="character-grid">
                <div class="character-card">
                    <div class="character-header">
                        <h3 class="character-name">Bilbo Baggins</h3>
                        <div class="character-mentions">556 mentions</div>
                    </div>
                    <div class="character-content">
                        <p>The protagonist, a hobbit from the Shire who reluctantly joins the dwarves' quest and discovers his courage and resourcefulness.</p>
                        <a href="the_hobbit_bilbo_arc.html" class="character-button" target="_blank">View Character Arc</a>
                    </div>
                </div>
                
                <div class="character-card">
                    <div class="character-header">
                        <h3 class="character-name">Thorin Oakenshield</h3>
                        <div class="character-mentions">252 mentions</div>
                    </div>
                    <div class="character-content">
                        <p>The proud leader of the dwarf company, seeking to reclaim his ancestral home and treasure from Smaug.</p>
                        <a href="the_hobbit_thorin_arc.html" class="character-button" target="_blank">View Character Arc</a>
                    </div>
                </div>
                
                <div class="character-card">
                    <div class="character-header">
                        <h3 class="character-name">Gandalf</h3>
                        <div class="character-mentions">187 mentions</div>
                    </div>
                    <div class="character-content">
                        <p>The wise wizard who selects Bilbo for the adventure and guides the company through various perils.</p>
                        <a href="the_hobbit_gandalf_arc.html" class="character-button" target="_blank">View Character Arc</a>
                    </div>
                </div>
                
                <div class="character-card">
                    <div class="character-header">
                        <h3 class="character-name">Gollum</h3>
                        <div class="character-mentions">96 mentions</div>
                    </div>
                    <div class="character-content">
                        <p>A mysterious creature living in the Misty Mountains who loses his "precious" ring to Bilbo during a riddle game.</p>
                        <a href="the_hobbit_gollum_arc.html" class="character-button" target="_blank">View Character Arc</a>
                    </div>
                </div>
                
                <div class="character-card">
                    <div class="character-header">
                        <h3 class="character-name">Smaug</h3>
                        <div class="character-mentions">82 mentions</div>
                    </div>
                    <div class="character-content">
                        <p>The fearsome dragon who has taken over the Lonely Mountain and hoards the dwarves' treasure.</p>
                        <a href="the_hobbit_smaug_arc.html" class="character-button" target="_blank">View Character Arc</a>
                    </div>
                </div>
                
                <div class="character-card">
                    <div class="character-header">
                        <h3 class="character-name">Bard</h3>
                        <div class="character-mentions">57 mentions</div>
                    </div>
                    <div class="character-content">
                        <p>The skilled archer from Lake-town who ultimately defeats Smaug with a well-placed arrow.</p>
                        <a href="the_hobbit_bard_arc.html" class="character-button" target="_blank">View Character Arc</a>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Summary Section -->
        <section id="summary" class="section">
            <div class="dashboard-card col-span-12">
                <div class="card-header">
                    <div class="card-title">Narrative Summary</div>
                </div>
                <div class="card-content">
                    <iframe class="card-iframe" src="the_hobbit_summary.html"></iframe>
                </div>
            </div>
        </section>
    </div>
    
    <footer>
        <p>Narrative Atlas - A Spatial-Temporal Framework for Text Analysis</p>
        <p>Created with the Temporal-Spatial Memory Database</p>
    </footer>
    
    <script>
        // Function to switch between tabs
        function showSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Deactivate all nav buttons
            document.querySelectorAll('.nav-button').forEach(button => {
                button.classList.remove('active');
            });
            
            // Show the selected section
            document.getElementById(sectionId).classList.add('active');
            
            // Activate the corresponding nav button
            document.querySelector(`.nav-button[data-section="${sectionId}"]`).classList.add('active');
        }
        
        // Add event listeners to nav buttons
        document.querySelectorAll('.nav-button').forEach(button => {
            button.addEventListener('click', function() {
                const sectionId = this.getAttribute('data-section');
                showSection(sectionId);
            });
        });
        
        // Initialize the dashboard
        document.addEventListener('DOMContentLoaded', function() {
            // Start with the overview section active
            showSection('overview');
        });
    </script>
</body>
</html> 